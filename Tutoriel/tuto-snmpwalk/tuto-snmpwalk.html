<h1>SnmpWalk</h1>

<h2>1. Objectif</h2>

<p>
    L'objectif de ce tutoriel est de vous présenter l'outil de ligne de commande SnmpWalk.
    <br>
    SNMP (Simple Network Management Protocol) est un protocole très utilisé 
    pour la gestion et la surveillance des dispositifs de réseau comme les
    routeurs, les commutateurs et les serveurs. 
    <br>
    SNMP permet de récupérer les 
    informations sur l'état, les performances et la configuration de ces appareils.
    <br>
    SnmpWalk est un outil utilisé pour interroger et parcourir une base d'informations de 
    gestion SNMP (MIB). 
    <br>
    La MIB est une base de données hiérarchique qui stocke 
    les informations gérées par un appareil SNMP. 
    <br>
    Le numéro d’identification Object Identifier (OID) permet d'accéder à une information.
    <br>
</p>

<h2>2. Configuration </h2>
<p>    
    Pour ce tutoriel nous allons utiliser deux machines interconnectées en utilisant Docker et docker-compose.
    <a href="Downloads/tuto-snmpwalk/snmp_docker.zip">Télécharger le dossier</a><br>
    Il faut tout d'abord rendre le script snmp.sh executable
    </br>
    <kbd class="ms-3">bash> chmod +x snmp.sh </kbd><br>
    Puis executer le script: 
    <br>
    <kbd class="ms-3">bash> sudo ./snmp.sh </kbd><br>
    <br>
    <p>Plusieurs choix apparaissent. :</p>
    <ul>
        <li><a href="#">1 : Premier démarrage (bien faire attention à clean entre deux utilisations, pour éviter les 
            collisions)
        </a></li>
        <li><a href="#">2 : Accéder au manager</a></li>
        <li><a href="#">3 : Accéder à l'agent </a></li>
        <li><a href="#">4 : Arrêter les conteneurs</a></li>
        <li><a href="#">5 : Supprimer complètement les conteneurs et les images associées</a></li>
    </ul>

    <br>
    <kbd class="ms-3">bash> sudo ./snmp.sh</kbd><br>
    <br>
    
    <p>Les OID de base :</p>
    <ul>
        <li><a href="#">Nombre d’interfaces réseaux : 1.3.6.1.2.1.2.1</a></li>
        <li><a href="#">Liste des interfaces réseaux : 1.3.6.1.2.1.2.2.1.2</a></li>
        <li><a href="#">Liste des espaces mémoires : 1.3.6.1.2.1.25.2.3.1.3 </a></li>
        <li><a href="#">Liste des adresses IP : 1.3.6.1.2.1.4.21.1.1</a></li>
        <li><a href="#"> Nom de la machine : 1.3.6.1.2.1.1.1.0</a></li>
        <li><a href="#"> Nom de la machine : 1.3.6.1.2.1.1.1.0</a></li>
    </ul>

</p>

<h2>3. Utilisation </h2>
<p>
    Les commandes suivantes sont à utiliser à l'intérieur de la machine manager.
    </br>
    Utiliser les commandes depuis l'autre machine est utile pour modifier la configuration.
    </br>
    Snmpget est utilisé pour récupérer la valeur d'une seule variable SNMP spécifique à l'aide de 
    son OID, tandis que snmpwalk est utilisé pour parcourir récursivement une hiérarchie d'OIDs 
    afin de récupérer les valeurs de toutes les variables SNMP sous cet OID.
    </br>
    Exemple de commande : 
    </br>
    Pour avoir la description de la machine agent
    </br>
    <kbd class="ms-3">bash> snmpget -v 2c -c public 192.168.92.21 sysDescr.0</kbd><br>
    </br>
    <img src="Tutoriel/tuto-tcpdump/capture1.png" alt="" class="img-fluid">
    </br>
    Pour récupérer toutes les informations relatives au système de la machine agent
    </br>    
    <kbd class="ms-3">bash> snmpwalk -v 2c -c public 192.168.92.21 system</kbd><br>
    </br>
    <img src="Tutoriel/tuto-tcpdump/capture2.png" alt="" class="img-fluid">
    </br>
    Ou encore, en utilisant une identificaiton, pour avoir des informations sur les interfaces de la machine agent: 
    <br>
    <kbd class="ms-3">bash> snmpwalk -v3 -u admin -l authPriv -a SHA -x AES -A Thalescom01@ -X Thalescom01@ 192.168.92.21 interfaces</kbd><br>
    </br>
    <img src="Tutoriel/tuto-tcpdump/capture3.png" alt="" class="img-fluid">
</p>


<h2 class="mb-3">5. Bonus : vidéo démonstration</h2>
<p>
    Vous trouverez ci-dessous une vidéo de démonstration :
</p>
<video controls width="560" height="315">
    </br>  
    <source src="Tutoriel/tuto-snmpwalk/tuto-snmpwalk.mp4" type="video/mp4">
    </br>       
    Désolé, votre navigateur ne supporte pas ce format vidéo.
</video>

